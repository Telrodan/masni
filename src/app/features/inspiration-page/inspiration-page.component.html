<ng-container *ngIf="inspirationPageData$ | async as pageData">
  <mhd-scrollable-image-with-title
    title="Inspirációk"
    imageUrl="../../../assets/images/landing-page/carousel-placeholder.jpg"
    [elementToScrollTo]="inspirationPage">
  </mhd-scrollable-image-with-title>

  <div class="inspiration-page" #inspirationPage>
    <div *ngFor="let category of pageData; let i = index">
      <h1 class="heading-primary">{{ category.title }}</h1>

      <p-galleria
        [value]="category.items"
        [(visible)]="displayCustomGaleryArr[i]"
        [(activeIndex)]="activeIndexArr[i]"
        [containerStyle]="{ 'max-width': '850px' }"
        [circular]="true"
        [fullScreen]="true"
        [showItemNavigators]="true"
        [showThumbnails]="false"
        [baseZIndex]="50">
        <ng-template pTemplate="item" let-inspiration>
          <img
            [src]="inspiration.image"
            [alt]="inspiration.name"
            class="border-round-sm"
            style="width: 100%; display: block" />
        </ng-template>
      </p-galleria>

      <div class="grid" style="max-width: 100%">
        <div
          *ngFor="let inspiration of category.items; let index = index"
          class="item-content col-3 lg:col-2"
          key="index">
          <img
            [src]="inspiration.image"
            class="hidden"
            (load)="imageLoaded(category.title, index)" />

          <img
            *ngIf="
              imageLoadedStatus[category.title] &&
              imageLoadedStatus[category.title][index]
            "
            [src]="inspiration.image"
            class="mb-1 border-round-sm"
            style="cursor: pointer"
            (click)="imageClickGalery(index, i)" />

          <p-skeleton
            *ngIf="
              imageLoadedStatus[category.title] &&
              !imageLoadedStatus[category.title][index]
            "
            styleClass="skeleton">
          </p-skeleton>
        </div>
      </div>
    </div>
  </div>
</ng-container>
