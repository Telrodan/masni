<div
  *ngIf="reportsData$ | async as reportsData; else loading"
  class="surface-card shadow-2 border-round flex p-3 flex-column md:flex-row mb-6">
  <div
    class="border-bottom-1 md:border-right-1 md:border-bottom-none surface-border flex-auto p-3">
    <div class="flex align-items-center mb-3">
      <i class="pi pi-users text-blue-500 text-xl mr-2"></i>
      <span class="text-500 font-medium">Felhasználok</span>
    </div>

    <span class="block text-900 font-medium mb-4 text-xl">
      {{ reportsData.usersCount }}
    </span>
  </div>

  <div
    class="border-bottom-1 md:border-right-1 md:border-bottom-none surface-border flex-auto p-3">
    <div class="flex align-items-center mb-3">
      <i class="pi pi-file text-orange-500 text-xl mr-2"></i>
      <span class="text-500">Fizetett rendelések</span>
    </div>

    <span class="block text-900 font-medium mb-4 text-xl">
      {{ reportsData.ordersCount }}
    </span>
  </div>

  <div
    class="border-bottom-1 md:border-right-1 md:border-bottom-none surface-border flex-auto p-3">
    <div class="flex align-items-center mb-3">
      <i class="pi pi-file text-orange-500 text-xl mr-2"></i>
      <span class="text-500 font-medium">Eladások összesen</span>
    </div>

    <span class="block text-green-500 font-medium mb-4 text-xl">
      {{ reportsData.totalSales }} Ft
    </span>
  </div>

  <ng-container *ngIf="reportsData.trackingData as trackingData">
    <div
      class="border-bottom-1 md:border-right-1 md:border-bottom-none surface-border flex-auto p-3">
      <div class="flex align-items-center mb-3">
        <i class="pi pi-chart-bar text-cyan-500 text-xl mr-2"></i>
        <span class="text-500 font-medium">Látogatók</span>
      </div>

      <span class="block text-900 font-medium mb-4 text-xl">
        {{ trackingData.visitors }}
      </span>
    </div>

    <div
      class="border-bottom-1 md:border-right-1 md:border-bottom-none surface-border flex-auto p-3">
      <div class="flex align-items-center mb-3">
        <i class="pi pi-chart-bar text-purple-500 text-xl mr-2"></i>
        <span class="text-500 font-medium">Oldalbetöltés</span>
      </div>

      <span class="block text-900 font-medium mb-4 text-xl">
        {{ trackingData.pageViews }}
      </span>
    </div>

    <div class="flex-auto p-3">
      <div class="flex align-items-center mb-3">
        <i class="pi pi-chart-bar text-green-500 text-xl mr-2"></i>
        <span class="text-500 font-medium">Visszatérő látogatók</span>
      </div>

      <span class="block text-900 font-medium mb-4 text-xl">
        {{ trackingData.returnVisitors }}
      </span>
    </div>
  </ng-container>
</div>

<ng-template #loading>
  <nyk-spinner></nyk-spinner>
</ng-template>
