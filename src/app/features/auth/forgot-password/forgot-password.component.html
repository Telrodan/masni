<div class="nyk-forgot-password-container">
    <ng-container *ngIf="!isEmailSent; else emailSentTemplate">
        <div class="nyk-forgot-password-header heading-primary">
            Elfelejtett jelszó
        </div>

        <span class="nyk-forgot-password-sub-header">
            Az új jelszó beállításához add meg a regisztrált email címed és
            kövesd az emailben kapott lépéseket
        </span>

        <form
            *ngIf="!isEmailSent"
            class="nyk-forgot-password-form"
            [formGroup]="forgotPasswordForm"
            (submit)="onSubmit()">
            <div class="form-group">
                <label for="email">Email</label>

                <input
                    id="email"
                    type="email"
                    placeholder="Kérlek add meg az email címed"
                    pInputText
                    class="w-full"
                    formControlName="email" />
                <p
                    class="form-helper"
                    *ngIf="
                        !forgotPasswordForm.get('email').valid &&
                        forgotPasswordForm.get('email').dirty
                    ">
                    Kérlek add meg az email címed.
                </p>
            </div>

            <button
                class="primary-button w-full"
                type="submit"
                [disabled]="!forgotPasswordForm.valid">
                Új jelszó kérése
            </button>
        </form>
    </ng-container>

    <ng-template #emailSentTemplate>
        <div class="nyk-forgot-password-email-sent">
            <div class="heading-primary">Az emailt elküldtük!</div>

            <span>
                Kövesd az emailben leírtakat az új jelszó beállításához.
                Elképzelhető, hogy a spam mappába került az email.
            </span>

            <button class="tertiary-button" routerLink="/">Vissza</button>
        </div>
    </ng-template>
</div>
