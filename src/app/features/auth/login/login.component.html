<div *ngIf="!isLoading; else loading" class="nyk-login-container">
    <div class="nyk-login-header heading-primary">Belépés</div>

    <span class="nyk-login-sub-header">
        Nem regisztráltál még?
        <a routerLink="/auth/signup">Regisztrálj!</a>
    </span>

    <form class="nyk-login-form" [formGroup]="loginForm" (submit)="onLogin()">
        <div class="form-group">
            <label for="email"> Email </label>

            <input
                id="email"
                type="email"
                pInputText
                class="w-full"
                formControlName="email" />
            <p
                class="form-helper"
                *ngIf="
                    loginForm.get('email').invalid &&
                    loginForm.get('email').dirty
                ">
                Kérlek add meg az email címed.
            </p>
        </div>

        <div class="form-group">
            <label for="password"> Jelszó </label>

            <div class="nyk-login-password-wrapper">
                <input
                    id="password"
                    type="password"
                    pInputText
                    class="w-full"
                    formControlName="password" />

                <button
                    type="button"
                    pButton
                    pRipple
                    class="nyk-login-password-toggle"
                    (click)="onTogglePasswordVisibility()">
                    <i
                        class="pi"
                        [ngClass]="{
                            'pi-eye': !isPasswordVisible,
                            'pi-eye-slash': isPasswordVisible
                        }">
                    </i>
                </button>
            </div>

            <small
                class="form-helper"
                *ngIf="
                    loginForm.get('password').invalid &&
                    loginForm.get('password').dirty
                ">
                Kérlek add meg a jelszavad.
            </small>
        </div>

        <a routerLink="../forgot-password">Elfelejtetted a jelszavad? </a>

        <button
            class="primary-button w-full"
            type="submit"
            [disabled]="!loginForm.valid">
            Belépés
        </button>
    </form>
</div>

<ng-template #loading>
    <nyk-spinner></nyk-spinner>
</ng-template>
